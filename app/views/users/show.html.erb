<h1>Info</h1>

<%= image_tag(@user.photo_url, :width => 300, :height => 300) %>

<p>
  <strong>Name:</strong>
  <%= @user.name %>
</p>

<p>
  <strong>Description:</strong>
  <%= @user.description %>
</p>

<p>
  <strong>Email:</strong>
  <%= @user.email %>
</p>

<p>
  <strong>Gender:</strong>
  <%= @user.is_male %>
</p>

<p>
  <strong>Location:</strong>
  <%= @user.location %>
</p>



<!-- <p>
  <strong>Rating:</strong>
  <%= @user.rating %>
</p> -->

<% if can? :manage, @user %>
<%= link_to 'Edit', edit_user_path(@user) %>
<% end %>

<h1>Skills</h1>
<h2>Offer</h2>

<table class="table">
  <thead>
    <tr>
      <th>Teach</th>
      <th>Name</th>
      <th>Description</th>
      <th>Numb events</th>
    </tr>
  </thead>

  <tbody>
    <% @user.skills.where(teach: true).each do |skill| %>
      <tr>
        <td><%= skill.teach %></td>
        <td><%= skill.name %></td>
        <td><%= skill.description %></td>
        <td><%= skill.numb_events %></td>
        <td><%= link_to 'Show', skill %></td>
        <% if can? :manage, @user %>
                  <td><%= link_to 'Edit', edit_skill_path(skill) %></td>
                  <td><%= link_to 'Destroy', skill, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>

<% if can? :manage, @user %>
<%= link_to 'New Skill', new_skill_path(id: @user.id) %>
<% end %>


<h2>Learn</h2>

<table class="table">
  <thead>
    <tr>
      <th>Teach</th>
      <th>Name</th>
      <th>Description</th>
      <th>Numb events</th>
    </tr>
  </thead>

  <tbody>
    <% @user.skills.where(teach: false).each do |skill| %>
      <tr>
        <td><%= skill.teach %></td>
        <td><%= skill.name %></td>
        <td><%= skill.description %></td>
        <td><%= skill.numb_events %></td>
        <td><%= link_to 'Show', skill %></td>
        <% if can? :manage, @user %>
                  <td><%= link_to 'Edit', edit_skill_path(skill) %></td>
                  <td><%= link_to 'Destroy', skill, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>
       
      </tr>
    <% end %>
  </tbody>
</table>

<% if can? :manage, @user %>
<%= link_to 'New Skill', new_skill_path(id: @user.id) %>
<% end %>

<h1>Events</h1>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Date</th>
      <th>Time</th>
    </tr>
  </thead>

  <tbody>
    <% @user.attendees.each do |attendee| %>
      <tr>
        <td><%= attendee.event.name %></td>
        <td><%= attendee.event.description%></td>
        <td><%= attendee.event.date%></td>
        <td><%= attendee.event.time%></td>
        <td><%= link_to 'Show', attendee.event %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<h1>Tags</h1>

<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
    </tr>
  </thead>

  <tbody>
    <% @user.tags.each do |tag| %>
      <tr>
        <td><%= tag.name %></td>
        <td><%= tag.tagable_type %></td>
        <td><%= link_to 'Show', tag %></td>
        <% if can? :manage, @user %>
                  <td><%= link_to 'Edit', edit_tag_path(tag) %></td>
                  <td><%= link_to 'Destroy', '#', method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <% end %>

      </tr>
    <% end %>
  </tbody>
</table>
